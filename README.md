# ë¯¸ë¯¸ ì‹ë‹¨ ê´€ë¦¬ ğŸ±

ê³ ì–‘ì´ "ë¯¸ë¯¸"ì˜ ì¼ì¼ ì‹ë‹¨, ë°°ë³€, ê±´ê°• ìƒíƒœë¥¼ ê¸°ë¡í•˜ê³  ì¡°íšŒí•  ìˆ˜ ìˆëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

## ê¸°ëŠ¥

### ê¸°ë¡í•˜ê¸°
- ğŸ’§ ë¬¼ ì„­ì·¨ (ìê¸‰/ì§€ê¸‰)
- ğŸš ì‚¬ë£ŒëŸ‰ (10-60ê°œ, 5ë‹¨ìœ„)
- ğŸ¬ ê°„ì‹ (íŒŒí‹°ë¯¹ìŠ¤, ì¡°ê³µ, ì¸„ë¥´)
- ğŸ’© ëŒ€ë³€ (1-20ê°œ)
- ğŸ’¦ ì†Œë³€ (ëŒ€/ì¤‘/ì†Œ)
- ğŸ“ ê¸°íƒ€ ë©”ëª¨ (10ê°€ì§€ ì„ íƒì§€)

### ì¡°íšŒí•˜ê¸°
- ê¸°ê°„ë³„ í•„í„° (ì˜¤ëŠ˜, 3ì¼, ì¼ì£¼ì¼, í•œë‹¬)
- ìŒì‹ í†µê³„ (ì‚¬ë£ŒëŸ‰, ê°„ì‹)
- ë°°ë³€ í†µê³„ (ëŒ€ë³€, ì†Œë³€)
- ë¬¼ ì„­ì·¨ í†µê³„
- íŠ¹ì´ì‚¬í•­ í†µê³„
- ìƒì„¸ ê¸°ë¡ ë³´ê¸°

## ê¸°ìˆ  ìŠ¤íƒ

- **í”„ë¡ íŠ¸ì—”ë“œ**: Vanilla HTML/CSS/JavaScript
- **ë°±ì—”ë“œ**: Cloudflare Pages Functions
- **ë°ì´í„°ë² ì´ìŠ¤**: Cloudflare D1 (SQLite)
- **ì¸ì¦**: JWT ê¸°ë°˜ ì¸ì¦

## ë°°í¬

### 1. Cloudflare D1 ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±

```bash
npx wrangler d1 create mimi-db
```

`wrangler.toml`ì˜ `database_id`ë¥¼ ìƒì„±ëœ IDë¡œ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.

### 2. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

```bash
npx wrangler d1 execute mimi-db --file=./migrations/0001_create_tables.sql
```

### 3. í™˜ê²½ë³€ìˆ˜ ì„¤ì •

Cloudflare Dashboardì—ì„œ ë‹¤ìŒ í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ì„¸ìš”:

| ë³€ìˆ˜ëª… | ì„¤ëª… |
|--------|------|
| `ADMIN_PASSWORD_HASH` | SHA-256 í•´ì‹œëœ ë¹„ë°€ë²ˆí˜¸ (í˜•ì‹: `sha256:í•´ì‹œê°’`) |
| `JWT_SECRET` | JWT ì„œëª…ìš© ì‹œí¬ë¦¿ (ìµœì†Œ 32ì) |

ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ ìƒì„±:
```bash
echo -n "YOUR_PASSWORD" | sha256sum
```

### 4. ë°°í¬

```bash
npx wrangler pages deploy src
```

## ë¡œì»¬ ê°œë°œ

### í™˜ê²½ ì„¤ì •

`.dev.vars` íŒŒì¼ ìƒì„±:
```
ADMIN_PASSWORD_HASH=sha256:í•´ì‹œê°’
JWT_SECRET=local-dev-secret
```

### ì‹¤í–‰

```bash
npm install
npm run dev
```

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
mimi-diet-tracker/
â”œâ”€â”€ src/                          # í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ styles/main.css
â”‚   â””â”€â”€ scripts/
â”‚       â”œâ”€â”€ app.js                # ë©”ì¸ ì•± ë¡œì§
â”‚       â”œâ”€â”€ auth.js               # ì¸ì¦
â”‚       â”œâ”€â”€ api.js                # API í´ë¼ì´ì–¸íŠ¸
â”‚       â””â”€â”€ utils.js              # ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ functions/                    # ë°±ì—”ë“œ API
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ _middleware.js        # ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
â”‚       â”œâ”€â”€ auth/
â”‚       â”‚   â”œâ”€â”€ login.js
â”‚       â”‚   â””â”€â”€ verify.js
â”‚       â”œâ”€â”€ records/
â”‚       â”‚   â”œâ”€â”€ index.js
â”‚       â”‚   â””â”€â”€ [id].js
â”‚       â””â”€â”€ stats/
â”‚           â”œâ”€â”€ food.js
â”‚           â”œâ”€â”€ bathroom.js
â”‚           â”œâ”€â”€ water.js
â”‚           â””â”€â”€ memo.js
â”œâ”€â”€ migrations/                   # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â””â”€â”€ 0001_create_tables.sql
â”œâ”€â”€ package.json
â”œâ”€â”€ wrangler.toml
â””â”€â”€ README.md
```

## ë³´ì•ˆ

- ë¹„ë°€ë²ˆí˜¸ëŠ” SHA-256 í•´ì‹œë¡œ ì €ì¥
- JWT í† í° ê¸°ë°˜ ì¸ì¦ (7ì¼ ë§Œë£Œ)
- Rate Limiting (5íšŒ ì‹¤íŒ¨ ì‹œ 5ë¶„ ì ê¸ˆ)
- CORS ë° ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ ì ìš©

## ë¼ì´ì„ ìŠ¤

MIT
